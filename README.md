# Анализ эффективности нового экрана оплаты

Этот проект анализирует эффективность нового экрана оплаты на образовательной платформе, которая предлагает курсы с возможностью ограниченного бесплатного доступа. Мы изучаем поведение пользователей и их склонность к покупке полного доступа к курсам.

## Контекст

Образовательные курсы разбиты на уроки, состоящие из множества маленьких заданий, называемых "горошинами". Студентам доступно 30 бесплатных горошин в день. Полный доступ требует покупки.

## Эксперимент

Был проведен эксперимент для тестирования нового экрана оплаты, с целью увидеть, как он повлияет на следующие метрики:

- ARPU (Average Revenue Per User)
- ARPAU (Average Revenue Per Active User)
- CR в покупку (Conversion Rate to Purchase)
- CR активного пользователя в покупку (Conversion Rate of Active User to Purchase)
- CR пользователя из активности по математике в покупку курса по математике (Conversion Rate from Math Activity to Course Purchase)

## Определения пользователей

- **Все пользователи**: Любой пользователь, попадающий в тестируемые группы.
- **Активный пользователь**: Пользователь, правильно решивший более 10 задач за все время в любых дисциплинах.
- **Активный по математике**: Пользователь, правильно решивший 2 или больше задач по математике.

## Данные

Используются следующие таблицы базы данных:

`default.studs`: Содержит информацию о студентах и их группах в эксперименте.

| Название атрибута | Тип атрибута | Смысловое значение |
|------------|-------------|-------------|
| st_id | int | ID ученика |
| test_grp | text | Метка ученика в данном эксперименте |

`default.final_project_check`: Включает данные о покупках курсов студентами.

| Название атрибута | Тип атрибута | Смысловое значение |
|------------|-------------|-------------|
| st_id | int | ID ученика |
| sale_time | timestamp | 	Время покупки |
| money | bool | Цена, по которой приобрели данный курс |
| subject | text | Дисциплина, в которой находится горошина |

`default.peas`: Содержит информацию о решениях задач студентами.

| Название атрибута | Тип атрибута | Смысловое значение |
|------------|-------------|-------------|
| st_id | int | ID ученика |
| timest | timestamp | 	Время решения карточки |
| correct | bool | 	Время решения карточки |
| subject | text | 	Дисциплина, в которой находится горошина |

## SQL Запрос

SQL-запрос для извлечения данных расположен в файле `analysis.sql`.

## Технологии

- **PostgreSQL**

